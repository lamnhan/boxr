var $e=Object.defineProperty,_e=Object.defineProperties;var Ce=Object.getOwnPropertyDescriptors;var ue=Object.getOwnPropertySymbols;var be=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable;var de=(e,t,s)=>t in e?$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,he=(e,t)=>{for(var s in t||(t={}))be.call(t,s)&&de(e,s,t[s]);if(ue)for(var s of ue(t))we.call(t,s)&&de(e,s,t[s]);return e},pe=(e,t)=>_e(e,Ce(t));import{d as b,g as U,h as w,i as Fe,o as c,j as m,a as d,w as O,k as F,t as H,l as He,v as xe,F as E,m as N,r as R,n as Ae,c as g,p as ve,q as ge,s as a,u as W,x as q,y as T,z as Oe}from"./vendor.4e629d9f.js";import{_ as fe}from"./plugin-vue_export-helper.21dcd24c.js";import{s as D,r as Ee}from"./index.c49d74df.js";/*!
  * vue-color-kit v1.0.4
  * (c) 2021 
  * @license MIT
  */function j(e){let t={r:0,g:0,b:0,a:1};/#/.test(e)?t=Be(e):/rgb/.test(e)?t=me(e):typeof e=="string"?t=me(`rgba(${e})`):Object.prototype.toString.call(e)==="[object Object]"&&(t=e);const{r:s,g:i,b:r,a:n}=t,{h:o,s:l,v:u}=Ne(t);return{r:s,g:i,b:r,a:n===void 0?1:n,h:o,s:l,v:u}}function G(e){const t=document.createElement("canvas"),s=t.getContext("2d"),i=e*2;return t.width=i,t.height=i,s.fillStyle="#ffffff",s.fillRect(0,0,i,i),s.fillStyle="#ccd5db",s.fillRect(0,0,e,e),s.fillRect(e,e,e,e),t}function Q(e,t,s,i,r,n){const o=e==="l",l=t.createLinearGradient(0,0,o?s:0,o?0:i);l.addColorStop(.01,r),l.addColorStop(.99,n),t.fillStyle=l,t.fillRect(0,0,s,i)}function Le({r:e,g:t,b:s},i){const r=o=>("0"+Number(o).toString(16)).slice(-2),n=`#${r(e)}${r(t)}${r(s)}`;return i?n.toUpperCase():n}function Be(e){e=e.slice(1);const t=s=>parseInt(s,16)||0;return{r:t(e.slice(0,2)),g:t(e.slice(2,4)),b:t(e.slice(4,6))}}function me(e){return typeof e=="string"?(e=(/rgba?\((.*?)\)/.exec(e)||["","0,0,0,1"])[1].split(","),{r:Number(e[0])||0,g:Number(e[1])||0,b:Number(e[2])||0,a:Number(e[3]?e[3]:1)}):e}function Ne({r:e,g:t,b:s}){e=e/255,t=t/255,s=s/255;const i=Math.max(e,t,s),r=Math.min(e,t,s),n=i-r;let o=0;i===r?o=0:i===e?t>=s?o=60*(t-s)/n:o=60*(t-s)/n+360:i===t?o=60*(s-e)/n+120:i===s&&(o=60*(e-t)/n+240),o=Math.floor(o);let l=parseFloat((i===0?0:1-r/i).toFixed(2)),u=parseFloat(i.toFixed(2));return{h:o,s:l,v:u}}var Z=b({props:{color:{type:String,default:"#000000"},hsv:{type:Object,default:null},size:{type:Number,default:152}},emits:["selectSaturation"],data(){return{slideSaturationStyle:{}}},mounted(){this.renderColor(),this.renderSlide()},methods:{renderColor(){const e=this.$refs.canvasSaturation,t=this.size,s=e.getContext("2d");e.width=t,e.height=t,s.fillStyle=this.color,s.fillRect(0,0,t,t),Q("l",s,t,t,"#FFFFFF","rgba(255,255,255,0)"),Q("p",s,t,t,"rgba(0,0,0,0)","#000000")},renderSlide(){this.slideSaturationStyle={left:this.hsv.s*this.size-5+"px",top:(1-this.hsv.v)*this.size-5+"px"}},selectSaturation(e){const{top:t,left:s}=this.$el.getBoundingClientRect(),i=e.target.getContext("2d"),r=o=>{let l=o.clientX-s,u=o.clientY-t;l<0&&(l=0),u<0&&(u=0),l>this.size&&(l=this.size),u>this.size&&(u=this.size),this.slideSaturationStyle={left:l-5+"px",top:u-5+"px"};const k=i.getImageData(Math.min(l,this.size-1),Math.min(u,this.size-1),1,1),[$,_,x]=k.data;this.$emit("selectSaturation",{r:$,g:_,b:x})};r(e);const n=()=>{document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",n)};document.addEventListener("mousemove",r),document.addEventListener("mouseup",n)}}});const Re={ref:"canvasSaturation"};function Te(e,t,s,i,r,n){return c(),m("div",{class:"saturation",onMousedown:t[1]||(t[1]=O((...o)=>e.selectSaturation&&e.selectSaturation(...o),["prevent","stop"]))},[d("canvas",Re,null,512),d("div",{style:e.slideSaturationStyle,class:"slide"},null,4)],32)}Z.render=Te;Z.__file="src/color/Saturation.vue";var I=b({props:{hsv:{type:Object,default:null},width:{type:Number,default:15},height:{type:Number,default:152}},emits:["selectHue"],data(){return{slideHueStyle:{}}},mounted(){this.renderColor(),this.renderSlide()},methods:{renderColor(){const e=this.$refs.canvasHue,t=this.width,s=this.height,i=e.getContext("2d");e.width=t,e.height=s;const r=i.createLinearGradient(0,0,0,s);r.addColorStop(0,"#FF0000"),r.addColorStop(.17*1,"#FF00FF"),r.addColorStop(.17*2,"#0000FF"),r.addColorStop(.17*3,"#00FFFF"),r.addColorStop(.17*4,"#00FF00"),r.addColorStop(.17*5,"#FFFF00"),r.addColorStop(1,"#FF0000"),i.fillStyle=r,i.fillRect(0,0,t,s)},renderSlide(){this.slideHueStyle={top:(1-this.hsv.h/360)*this.height-2+"px"}},selectHue(e){const{top:t}=this.$el.getBoundingClientRect(),s=e.target.getContext("2d"),i=n=>{let o=n.clientY-t;o<0&&(o=0),o>this.height&&(o=this.height),this.slideHueStyle={top:o-2+"px"};const l=s.getImageData(0,Math.min(o,this.height-1),1,1),[u,k,$]=l.data;this.$emit("selectHue",{r:u,g:k,b:$})};i(e);const r=()=>{document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",r)};document.addEventListener("mousemove",i),document.addEventListener("mouseup",r)}}});const De={ref:"canvasHue"};function je(e,t,s,i,r,n){return c(),m("div",{class:"hue",onMousedown:t[1]||(t[1]=O((...o)=>e.selectHue&&e.selectHue(...o),["prevent","stop"]))},[d("canvas",De,null,512),d("div",{style:e.slideHueStyle,class:"slide"},null,4)],32)}I.render=je;I.__file="src/color/Hue.vue";var ee=b({props:{color:{type:String,default:"#000000"},rgba:{type:Object,default:null},width:{type:Number,default:15},height:{type:Number,default:152}},emits:["selectAlpha"],data(){return{slideAlphaStyle:{},alphaSize:5}},watch:{color(){this.renderColor()},"rgba.a"(){this.renderSlide()}},mounted(){this.renderColor(),this.renderSlide()},methods:{renderColor(){const e=this.$refs.canvasAlpha,t=this.width,s=this.height,i=this.alphaSize,r=G(i),n=e.getContext("2d");e.width=t,e.height=s,n.fillStyle=n.createPattern(r,"repeat"),n.fillRect(0,0,t,s),Q("p",n,t,s,"rgba(255,255,255,0)",this.color)},renderSlide(){this.slideAlphaStyle={top:this.rgba.a*this.height-2+"px"}},selectAlpha(e){const{top:t}=this.$el.getBoundingClientRect(),s=r=>{let n=r.clientY-t;n<0&&(n=0),n>this.height&&(n=this.height);let o=parseFloat((n/this.height).toFixed(2));this.$emit("selectAlpha",o)};s(e);const i=()=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",i)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",i)}}});const Me={ref:"canvasAlpha"};function ze(e,t,s,i,r,n){return c(),m("div",{class:"color-alpha",onMousedown:t[1]||(t[1]=O((...o)=>e.selectAlpha&&e.selectAlpha(...o),["prevent","stop"]))},[d("canvas",Me,null,512),d("div",{style:e.slideAlphaStyle,class:"slide"},null,4)],32)}ee.render=ze;ee.__file="src/color/Alpha.vue";var te=b({props:{color:{type:String,default:"#000000"},width:{type:Number,default:100},height:{type:Number,default:30}},data(){return{alphaSize:5}},watch:{color(){this.renderColor()}},mounted(){this.renderColor()},methods:{renderColor(){const e=this.$el,t=this.width,s=this.height,i=this.alphaSize,r=G(i),n=e.getContext("2d");e.width=t,e.height=s,n.fillStyle=n.createPattern(r,"repeat"),n.fillRect(0,0,t,s),n.fillStyle=this.color,n.fillRect(0,0,t,s)}}});function Pe(e,t,s,i,r,n){return c(),m("canvas")}te.render=Pe;te.__file="src/color/Preview.vue";var se=b({props:{suckerCanvas:{type:Object,default:null},suckerArea:{type:Array,default:()=>[]}},data(){return{isOpenSucker:!1,suckerPreview:null,isSucking:!1}},watch:{suckerCanvas(e){this.isSucking=!1,this.suckColor(e)}},methods:{openSucker(){this.isOpenSucker?this.keydownHandler({keyCode:27}):(this.isOpenSucker=!0,this.isSucking=!0,this.$emit("openSucker",!0),document.addEventListener("keydown",this.keydownHandler))},keydownHandler(e){e.keyCode===27&&(this.isOpenSucker=!1,this.isSucking=!1,this.$emit("openSucker",!1),document.removeEventListener("keydown",this.keydownHandler),document.removeEventListener("mousemove",this.mousemoveHandler),document.removeEventListener("mouseup",this.mousemoveHandler),this.suckerPreview&&(document.body.removeChild(this.suckerPreview),this.suckerPreview=null))},mousemoveHandler(e){const{clientX:t,clientY:s}=e,{top:i,left:r,width:n,height:o}=this.suckerCanvas.getBoundingClientRect(),l=t-r,u=s-i,$=this.suckerCanvas.getContext("2d").getImageData(Math.min(l,n-1),Math.min(u,o-1),1,1);let[_,x,z,L]=$.data;L=parseFloat((L/255).toFixed(2));const C=this.suckerPreview.style;Object.assign(C,{position:"absolute",left:t+20+"px",top:s-36+"px",width:"24px",height:"24px",borderRadius:"50%",border:"2px solid #fff",boxShadow:"0 0 8px 0 rgba(0, 0, 0, 0.16)",background:`rgba(${_}, ${x}, ${z}, ${L})`,zIndex:95}),this.suckerArea.length&&t>=this.suckerArea[0]&&s>=this.suckerArea[1]&&t<=this.suckerArea[2]&&s<=this.suckerArea[3]?C.display="":C.display="none"},suckColor(e){e&&e.tagName!=="CANVAS"||(this.suckerPreview=document.createElement("div"),this.suckerPreview&&document.body.appendChild(this.suckerPreview),document.addEventListener("mousemove",this.mousemoveHandler),document.addEventListener("mouseup",this.mousemoveHandler),e.addEventListener("click",t=>{const{clientX:s,clientY:i}=t,{top:r,left:n,width:o,height:l}=e.getBoundingClientRect(),u=s-n,k=i-r,_=e.getContext("2d").getImageData(Math.min(u,o-1),Math.min(k,l-1),1,1);let[x,z,L,C]=_.data;C=parseFloat((C/255).toFixed(2)),this.$emit("selectSucker",{r:x,g:z,b:L,a:C})}))}}});const We=d("path",{d:"M13.1,8.2l5.6,5.6c0.4,0.4,0.5,1.1,0.1,1.5s-1.1,0.5-1.5,0.1c0,0-0.1,0-0.1-0.1l-1.4-1.4l-7.7,7.7C7.9,21.9,7.6,22,7.3,22H3.1C2.5,22,2,21.5,2,20.9l0,0v-4.2c0-0.3,0.1-0.6,0.3-0.8l5.8-5.8C8.5,9.7,9.2,9.6,9.7,10s0.5,1.1,0.1,1.5c0,0,0,0.1-0.1,0.1l-5.5,5.5v2.7h2.7l7.4-7.4L8.7,6.8c-0.5-0.4-0.5-1-0.1-1.5s1.1-0.5,1.5-0.1c0,0,0.1,0,0.1,0.1l1.4,1.4l3.5-3.5c1.6-1.6,4.1-1.6,5.8-0.1c1.6,1.6,1.6,4.1,0.1,5.8L20.9,9l-3.6,3.6c-0.4,0.4-1.1,0.5-1.5,0.1"},null,-1),Ke={key:1,class:"sucker",viewBox:"-16 -16 68 68",xmlns:"http://www.w3.org/2000/svg",stroke:"#9099a4"},Ve=d("g",{fill:"none","fill-rule":"evenodd"},[d("g",{transform:"translate(1 1)","stroke-width":"4"},[d("circle",{"stroke-opacity":".5",cx:"18",cy:"18",r:"18"}),d("path",{d:"M36 18c0-9.94-8.06-18-18-18"},[d("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})])])],-1);function Je(e,t,s,i,r,n){return c(),m("div",null,[e.isSucking?F("v-if",!0):(c(),m("svg",{key:0,class:[{active:e.isOpenSucker},"sucker"],xmlns:"http://www.w3.org/2000/svg",viewBox:"-12 -12 48 48",onClick:t[1]||(t[1]=(...o)=>e.openSucker&&e.openSucker(...o))},[We],2)),e.isSucking?(c(),m("svg",Ke,[Ve])):F("v-if",!0)])}se.render=Je;se.__file="src/color/Sucker.vue";var oe=b({props:{name:{type:String,default:""},color:{type:String,default:""}},emits:["inputColor"],setup(e,{emit:t}){return{modelColor:U({get(){return e.color||""},set(i){t("inputColor",i)}})}}});const Ue={class:"color-type"},Xe={class:"name"};function Ye(e,t,s,i,r,n){return c(),m("div",Ue,[d("span",Xe,H(e.name),1),He(d("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>e.modelColor=o),class:"value"},null,512),[[xe,e.modelColor]])])}oe.render=Ye;oe.__file="src/color/Box.vue";var ie=b({name:"ColorPicker",props:{color:{type:String,default:"#000000"},colorsDefault:{type:Array,default:()=>[]},colorsHistoryKey:{type:String,default:""}},emits:["selectColor"],setup(e,{emit:t}){const s=w(),i=w([]),r=w();e.colorsHistoryKey&&localStorage&&(i.value=JSON.parse(localStorage.getItem(e.colorsHistoryKey))||[]),r.value=G(4).toDataURL(),Fe(()=>{n(s.value)});function n(l){if(!l)return;const u=i.value||[],k=u.indexOf(l);k>=0&&u.splice(k,1),u.length>=8&&(u.length=7),u.unshift(l),i.value=u||[],localStorage&&e.colorsHistoryKey&&localStorage.setItem(e.colorsHistoryKey,JSON.stringify(u))}function o(l){t("selectColor",l)}return{setColorsHistory:n,colorsHistory:i,color:s,imgAlphaBase64:r,selectColor:o}}});const qe={class:"colors"},Ge={key:0,class:"colors history"};function Qe(e,t,s,i,r,n){return c(),m("div",null,[d("ul",qe,[(c(!0),m(E,null,N(e.colorsDefault,o=>(c(),m("li",{key:o,class:"item",onClick:l=>e.selectColor(o)},[d("div",{style:{background:`url(${e.imgAlphaBase64})`},class:"alpha"},null,4),d("div",{style:{background:o},class:"color"},null,4)],8,["onClick"]))),128))]),e.colorsHistory.length?(c(),m("ul",Ge,[(c(!0),m(E,null,N(e.colorsHistory,o=>(c(),m("li",{key:o,class:"item",onClick:l=>e.selectColor(o)},[d("div",{style:{background:`url(${e.imgAlphaBase64})`},class:"alpha"},null,4),d("div",{style:{background:o},class:"color"},null,4)],8,["onClick"]))),128))])):F("v-if",!0)])}ie.render=Qe;ie.__file="src/color/Colors.vue";var M=b({components:{Saturation:Z,Hue:I,Alpha:ee,Preview:te,Sucker:se,Box:oe,Colors:ie},emits:["changeColor","openSucker"],props:{color:{type:String,default:"#000000"},theme:{type:String,default:"dark"},suckerHide:{type:Boolean,default:!0},suckerCanvas:{type:null,default:null},suckerArea:{type:Array,default:()=>[]},colorsDefault:{type:Array,default:()=>["#000000","#FFFFFF","#FF1900","#F47365","#FFB243","#FFE623","#6EFF2A","#1BC7B1","#00BEFF","#2E81FF","#5D61FF","#FF89CF","#FC3CAD","#BF3DCE","#8E00A7","rgba(0,0,0,0)"]},colorsHistoryKey:{type:String,default:"vue-colorpicker-history"}},data(){return{hueWidth:15,hueHeight:152,previewHeight:30,modelRgba:"",modelHex:"",r:0,g:0,b:0,a:1,h:0,s:0,v:0}},computed:{isLightTheme(){return this.theme==="light"},totalWidth(){return this.hueHeight+(this.hueWidth+8)*2},previewWidth(){return this.totalWidth-(this.suckerHide?0:this.previewHeight)},rgba(){return{r:this.r,g:this.g,b:this.b,a:this.a}},hsv(){return{h:this.h,s:this.s,v:this.v}},rgbString(){return`rgb(${this.r}, ${this.g}, ${this.b})`},rgbaStringShort(){return`${this.r}, ${this.g}, ${this.b}, ${this.a}`},rgbaString(){return`rgba(${this.rgbaStringShort})`},hexString(){return Le(this.rgba,!0)}},created(){Object.assign(this,j(this.color)),this.setText(),this.$watch("rgba",()=>{this.$emit("changeColor",{rgba:this.rgba,hsv:this.hsv,hex:this.modelHex})})},methods:{selectSaturation(e){const{r:t,g:s,b:i,h:r,s:n,v:o}=j(e);Object.assign(this,{r:t,g:s,b:i,h:r,s:n,v:o}),this.setText()},selectHue(e){const{r:t,g:s,b:i,h:r,s:n,v:o}=j(e);Object.assign(this,{r:t,g:s,b:i,h:r,s:n,v:o}),this.setText(),this.$nextTick(()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide()})},selectAlpha(e){this.a=e,this.setText()},inputHex(e){const{r:t,g:s,b:i,a:r,h:n,s:o,v:l}=j(e);Object.assign(this,{r:t,g:s,b:i,a:r,h:n,s:o,v:l}),this.modelHex=e,this.modelRgba=this.rgbaStringShort,this.$nextTick(()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide(),this.$refs.hue.renderSlide()})},inputRgba(e){const{r:t,g:s,b:i,a:r,h:n,s:o,v:l}=j(e);Object.assign(this,{r:t,g:s,b:i,a:r,h:n,s:o,v:l}),this.modelHex=this.hexString,this.modelRgba=e,this.$nextTick(()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide(),this.$refs.hue.renderSlide()})},setText(){this.modelHex=this.hexString,this.modelRgba=this.rgbaStringShort},openSucker(e){this.$emit("openSucker",e)},selectSucker(e){const{r:t,g:s,b:i,a:r,h:n,s:o,v:l}=j(e);Object.assign(this,{r:t,g:s,b:i,a:r,h:n,s:o,v:l}),this.setText(),this.$nextTick(()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide(),this.$refs.hue.renderSlide()})},selectColor(e){const{r:t,g:s,b:i,a:r,h:n,s:o,v:l}=j(e);Object.assign(this,{r:t,g:s,b:i,a:r,h:n,s:o,v:l}),this.setText(),this.$nextTick(()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide(),this.$refs.hue.renderSlide()})}}});const Ze={class:"color-set"};function Ie(e,t,s,i,r,n){const o=R("Saturation"),l=R("Hue"),u=R("Alpha"),k=R("Preview"),$=R("Sucker"),_=R("Box"),x=R("Colors");return c(),m("div",{class:["hu-color-picker",{light:e.isLightTheme}],style:{width:e.totalWidth+"px"}},[d("div",Ze,[d(o,{ref:"saturation",color:e.rgbString,hsv:e.hsv,size:e.hueHeight,onSelectSaturation:e.selectSaturation},null,8,["color","hsv","size","onSelectSaturation"]),d(l,{ref:"hue",hsv:e.hsv,width:e.hueWidth,height:e.hueHeight,onSelectHue:e.selectHue},null,8,["hsv","width","height","onSelectHue"]),d(u,{ref:"alpha",color:e.rgbString,rgba:e.rgba,width:e.hueWidth,height:e.hueHeight,onSelectAlpha:e.selectAlpha},null,8,["color","rgba","width","height","onSelectAlpha"])]),d("div",{style:{height:e.previewHeight+"px"},class:"color-show"},[d(k,{color:e.rgbaString,width:e.previewWidth,height:e.previewHeight},null,8,["color","width","height"]),e.suckerHide?F("v-if",!0):(c(),m($,{key:0,"sucker-canvas":e.suckerCanvas,"sucker-area":e.suckerArea,onOpenSucker:e.openSucker,onSelectSucker:e.selectSucker},null,8,["sucker-canvas","sucker-area","onOpenSucker","onSelectSucker"]))],4),d(_,{name:"HEX",color:e.modelHex,onInputColor:e.inputHex},null,8,["color","onInputColor"]),d(_,{name:"RGBA",color:e.modelRgba,onInputColor:e.inputRgba},null,8,["color","onInputColor"]),d(x,{color:e.rgbaString,"colors-default":e.colorsDefault,"colors-history-key":e.colorsHistoryKey,onSelectColor:e.selectColor},null,8,["color","colors-default","colors-history-key","onSelectColor"]),F(" custom options "),Ae(e.$slots,"default")],6)}M.render=Ie;M.__file="src/color/ColorPicker.vue";M.install=e=>{e.component(M.name,M)};const et=e=>(ve("data-v-d840c852"),e=e(),ge(),e),tt=et(()=>a("img",{src:"https://img.icons8.com/external-xnimrodx-lineal-xnimrodx/75/000000/external-new-e-commerce-and-business-xnimrodx-lineal-xnimrodx.png"},null,-1)),st=[tt],ot=b({emits:["click"],setup(e,{emit:t}){return(s,i)=>(c(),g("button",{onClick:i[0]||(i[0]=r=>t("click"))},st))}});var it=fe(ot,[["__scopeId","data-v-d840c852"]]);const K=e=>(ve("data-v-18c1d3d9"),e=e(),ge(),e),nt=K(()=>a("div",{class:"header"},[a("h1",null,"BOX:R")],-1)),rt={class:"main"},lt={class:"category-list"},at={class:"category-head"},ct=["src","alt"],ut={key:0},dt={key:1,class:"template-list"},ht=["onClick"],pt={class:"info"},vt={class:"thumbnail"},gt=["src","alt"],ft={class:"content"},mt=Oe("Size: "),St={class:"price"},kt={key:0},yt=K(()=>a("em",null,"\u20AB",-1)),$t={key:0,class:"detail"},_t={class:"links"},Ct={key:0,class:"start-from-scratch"},bt={class:"selectors"},wt={class:"material-selection"},Ft=K(()=>a("h5",null,"Select material",-1)),Ht={class:"material-list"},xt=["onClick"],At={class:"thumbnail"},Ot={class:"content"},Et={key:0,class:"price"},Lt={class:"color-selection"},Bt=K(()=>a("h5",null,"Select color",-1)),Nt={key:0,class:"material-name"},Rt={class:"color-list"},Tt=["onClick"],Dt={key:0,class:"choose-custom"},jt=["onClick"],Mt={key:1,class:"no-color"},zt={class:"actions"},Pt={key:1,class:"choose-a-design"},Wt={class:"new"},Kt=K(()=>a("div",{class:"prebuilt"}," TODO: ... ",-1)),Vt=b({setup(e){const t={color:"#ffffff",suckerCanvas:null,suckerArea:[],isSucking:!1},s=w("ready"),i=w(null),r=w(null),n=w(null),o=w(null),l=w(null),u=w({}),k=U(()=>D.state.categories),$=U(()=>D.state.materialRecord),_=U(()=>D.state.templateRecord);function x(f){Ee.push({name:"editor",params:{iid:`${f.slug}-${f.id}`}})}function z(){var v;if(!i.value||!r.value||!n.value||!((v=o.value)==null?void 0:v.front))return;const f=r.value.spec.units.reduce((B,V)=>(B[V.id]={front:{showBackdrop:!0,showNumbering:!1,showFolding:!1,color:o.value.front,canvasJSON:JSON.stringify({version:"4.6.0",objects:[]})},back:{showBackdrop:!0,showNumbering:!1,showFolding:!1,color:o.value.back||o.value.front,canvasJSON:JSON.stringify({version:"4.6.0",objects:[]})}},B),{}),p={id:Math.floor(Math.random()*1e3),slug:"untitled-design",title:"Untitled design",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),template_id:r.value.id,category_id:i.value.id,material_id:n.value.id,design_data:f};D.dispatch("createDesign",p).then(()=>x(p))}async function L(f,p){l.value=null,i.value=f,r.value=p,await D.dispatch("loadMaterials",p),C($.value[p.id].find(v=>v.id===p.default_material_id))}function C(f){n.value=f,o.value=null,l.value=null;const p=Object.keys(n.value.textures).reduce((v,B)=>(v[B]=n.value.textures[B].colors[0],v),{});Object.keys(p).forEach(v=>X(v,p[v]))}function X(f,p,v=!1){v||(l.value=null),delete u.value[f],o.value=pe(he({},o.value),{[f]:p})}function Se(f){l.value=l.value===f?null:f}function ke(f,p){const v=p.hex;X(f,v,!0),u.value[f]=v}return D.dispatch("resetEditing"),D.dispatch("loadCategoriesAndTemplates"),(f,p)=>(c(),g(E,null,[nt,a("div",rt,[a("ul",lt,[(c(!0),g(E,null,N(W(k),(v,B)=>{var V;return c(),g("li",{key:B},[a("h2",at,[a("img",{src:v.thumbnail,alt:v.title},null,8,ct),a("strong",null,H(v.title),1)]),((V=W(_)[v.id])==null?void 0:V.length)?(c(),g("ul",dt,[(c(!0),g(E,null,N(W(_)[v.id],(y,ye)=>{var ne,re;return c(),g("li",{key:ye,onClick:h=>{var S;return y.id===((S=r.value)==null?void 0:S.id)?!1:L(v,y)},class:q({active:y.id===((ne=r.value)==null?void 0:ne.id)})},[a("div",pt,[a("div",vt,[a("img",{src:y.thumbnail,alt:y.title},null,8,gt)]),a("div",ft,[a("h3",null,H(y.title),1),a("p",null,[mt,a("strong",null,H(y.display_size),1)])]),a("div",St,[y.sale_off?(c(),g("span",kt,"-"+H(y.sale_off)+" off",1)):F("",!0),a("strong",null,H(y.base_price-y.sale_off),1),yt])]),y.id===((re=r.value)==null?void 0:re.id)?(c(),g("div",$t,[a("div",_t,[a("h4",{onClick:p[0]||(p[0]=O(h=>s.value="blank",["prevent"])),style:T({opacity:s.value==="blank"?1:.5})},"Start from scratch",4),a("h4",{onClick:p[1]||(p[1]=O(h=>s.value="ready",["prevent"])),style:T({opacity:s.value==="ready"?1:.5})},"Choose a design",4)]),s.value==="blank"?(c(),g("div",Ct,[a("div",bt,[a("div",wt,[Ft,a("ul",Ht,[(c(!0),g(E,null,N(W($)[y.id],(h,S)=>{var A,J,P,Y,le,ae,ce;return c(),g("li",{key:S,class:q({active:((A=n.value)==null?void 0:A.id)===h.id}),onClick:O(Jt=>C(h),["stop"])},[a("div",At,[a("em",{class:"color-front",style:T({background:((J=n.value)==null?void 0:J.id)===h.id&&((P=o.value)==null?void 0:P.front)?o.value.front:h.textures.front.colors[0]})},null,4),a("em",{class:"color-back",style:T({background:((Y=n.value)==null?void 0:Y.id)===h.id&&(((le=o.value)==null?void 0:le.back)||((ae=o.value)==null?void 0:ae.front))?o.value.back||o.value.front:((ce=h.textures.back)==null?void 0:ce.colors[0])||h.textures.front.colors[0]})},null,4)]),a("div",Ot,[a("h6",null,H(h.title),1)]),h.offset_price?(c(),g("div",Et,"+"+H(h.offset_price),1)):F("",!0)],10,xt)}),128))])]),a("div",Lt,[Bt,n.value&&n.value.textures.front.colors.length>1?(c(!0),g(E,{key:0},N(n.value.textures,(h,S)=>(c(),g("div",{key:S},[(h==null?void 0:h.title)?(c(),g("div",Nt,H(h.title),1)):F("",!0),a("ul",Rt,[(c(!0),g(E,null,N(h==null?void 0:h.colors,(A,J)=>{var P;return c(),g("li",{key:J,class:q({active:((P=o.value)==null?void 0:P[S])===A}),onClick:O(Y=>X(S,A),["stop"])},[a("h6",{class:"thumbnail",style:T({background:A})},null,4)],10,Tt)}),128)),(h==null?void 0:h.customizable)?(c(),g("li",Dt,[a("button",{onClick:O(A=>Se(S),["stop"]),style:T({background:u.value[S]||"none",boxShadow:u.value[S]?"0 0 0 3px rgb(17, 60, 252, .5)":"none"})},H(l.value!==S?"+":"\u2715"),13,jt),a("div",{class:"color-picker",style:T({display:l.value===S?"block":"none"})},[d(W(M),{theme:"light",color:t.color,"sucker-hide":!1,"sucker-canvas":t.suckerCanvas,"sucker-area":t.suckerArea,onChangeColor:A=>ke(S,A)},null,8,["color","sucker-canvas","sucker-area","onChangeColor"])],4)])):F("",!0)])]))),128)):(c(),g("p",Mt,"This material doesn't support custom background color!"))])]),a("div",zt,[a("button",{onClick:p[2]||(p[2]=O(h=>z(),["stop"]))},"Start design")])])):(c(),g("div",Pt,[a("div",Wt,[d(it,{onClick:p[3]||(p[3]=h=>s.value="blank")})]),Kt]))])):F("",!0)],10,ht)}),128))])):(c(),g("p",ut,"No template available!"))])}),128))])])],64))}});var Gt=fe(Vt,[["__scopeId","data-v-18c1d3d9"]]);export{Gt as default};
